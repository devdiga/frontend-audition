(function(){"use strict";var t={2123:function(t,n,e){var i=e(9242),o=e(3396);const l=(0,o._)("head",null,[(0,o._)("meta",{charset:"utf-8"}),(0,o._)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o._)("title",null,"Image Library")],-1),a={id:"app"};function r(t,n,e,i,r,s){const c=(0,o.up)("PageHeader"),h=(0,o.up)("PhotoCard");return(0,o.wg)(),(0,o.iD)("html",null,[l,(0,o._)("body",null,[(0,o._)("div",a,[(0,o.Wm)(c),(0,o.Wm)(h)])])])}var s=e(7139);const c={class:"header"},h={id:"title"},d=(0,o._)("h1",null,"Photo Library",-1),u={class:"action-container"},p=(0,o._)("g",{"fill-rule":"evenodd"},[(0,o._)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,o._)("path",{d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"})],-1),v=[p],f=(0,o._)("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),g=(0,o._)("path",{d:"M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"},null,-1),w=[f,g];function m(t,n,e,l,a,r){return(0,o.wg)(),(0,o.iD)("header",c,[(0,o._)("div",h,[d,(0,o._)("div",u,[(0,o.wy)((0,o._)("input",{id:"search",type:"search",placeholder:"Busca","onUpdate:modelValue":n[0]||(n[0]=t=>a.text=t)},null,512),[[i.nr,a.text]]),((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:(0,s.C_)({active:a.gridPattern}),onClick:n[1]||(n[1]=t=>r.changePattern(a.gridPattern))},v,2)),((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:(0,s.C_)({active:a.listPattern}),onClick:n[2]||(n[2]=t=>r.changePattern(a.listPattern))},w,2))])])])}var _=e(4870);const P=(0,_.iH)(""),y=(0,o.Fl)((()=>P.value)),S=(0,_.iH)(!0),D=(0,o.Fl)((()=>(0,_.iH)(S.value)));var H={name:"PageHeader",data(){return{displayPattern:!0,gridPattern:!0,listPattern:!1,searchText:P,photocardDisplay:S,text:null}},methods:{changePattern(t){t||(this.gridPattern=!this.gridPattern,this.listPattern=!this.listPattern,S.value=this.gridPattern)}},watch:{text(){P.value=this.text}}},b=e(89);const z=(0,b.Z)(H,[["render",m]]);var x=z;const k=["src","alt"],T={class:"title"},C=["src","alt"],O={class:"title"},V={key:3,id:"failSearch"};function L(t,n,e,i,l,a){const r=(0,o.up)("DataLoading");return(0,o.wg)(),(0,o.iD)("main",null,[l.updatedPhotocardDisplay.value?((0,o.wg)(),(0,o.iD)("div",{key:0,id:"container",onWheelPassive:n[0]||(n[0]=(...t)=>a.infiniteScroll&&a.infiniteScroll(...t)),onScroll:n[1]||(n[1]=(...t)=>a.handleScroll&&a.handleScroll(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.photos,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"photo-card",key:t.id},[(0,o._)("img",{src:t.url,alt:t.title},null,8,k),(0,o._)("div",T,(0,s.zw)(t.title),1)])))),128))],32)):((0,o.wg)(),(0,o.iD)("div",{key:1,id:"container",class:(0,s.C_)({list:!l.updatedPhotocardDisplay.value}),onWheelPassive:n[2]||(n[2]=(...t)=>a.infiniteScroll&&a.infiniteScroll(...t)),onScroll:n[3]||(n[3]=(...t)=>a.handleScroll&&a.handleScroll(...t))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.photos,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"photo-card",key:t.id},[(0,o._)("img",{src:t.thumbnailUrl,alt:t.title},null,8,C),(0,o._)("div",O,[(0,o._)("span",null,"id : "+(0,s.zw)(t.id),1),(0,o._)("p",null,(0,s.zw)(t.title),1)])])))),128))],34)),l.loading?((0,o.wg)(),(0,o.j4)(r,{key:2})):(0,o.kq)("",!0),0==l.photosTotal&&l.photos?((0,o.wg)(),(0,o.iD)("div",V,[(0,o.Uk)(" Sua pesquisa - "),(0,o._)("span",null,(0,s.zw)(l.updatedSearchText),1),(0,o.Uk)(" - nÃ£o encontrou nenhum imagem. ")])):(0,o.kq)("",!0)])}var j=e(6265),F=e.n(j);const M={class:"loading"},W=(0,o._)("h2",null,"CARREGANDO",-1),E=(0,o._)("span",null,null,-1),U=(0,o._)("span",null,null,-1),Z=(0,o._)("span",null,null,-1),q=(0,o._)("span",null,null,-1),A=(0,o._)("span",null,null,-1),B=(0,o._)("span",null,null,-1),Y=(0,o._)("span",null,null,-1),K=[W,E,U,Z,q,A,B,Y];function R(t,n,e,i,l,a){return(0,o.wg)(),(0,o.iD)("div",M,K)}var G={name:"DataLoading",mounted(){window.scrollTo(0,document.body.scrollHeight)}};const I=(0,b.Z)(G,[["render",R]]);var N=I,J={name:"PhotoCard",components:{DataLoading:N},data(){return{photos:null,photosForFetch:20,photosTotal:0,pages:1,waitScroll:!1,loading:!0,updatedSearchText:y,updatedPhotocardDisplay:D}},methods:{fetchData(){F().get("https://jsonplaceholder.typicode.com/photos").then((t=>{const n=t.data.filter((t=>{if(t.title.toLowerCase().startsWith(this.updatedSearchText.toLowerCase()))return t}));this.photos=n,this.photosTotal=n.length,this.photos=n.slice(0,this.photosToView),this.loading=!1})).catch((t=>{alert(t)}))},infiniteScroll(){if(this.photosToView<this.photosTotal){const t=document.body.scrollHeight-window.scrollY-1.01*Math.max(document.body.offsetHeight,window.innerHeight);t<0&&!this.waitScroll&&(this.loading=!0,this.pages++,this.waitScroll=!0,setTimeout((()=>this.fetchData()),500),setTimeout((()=>{this.waitScroll=!1}),500))}},handleScroll(){this.infiniteScroll()}},computed:{photosToView(){return this.photosForFetch*this.pages}},created(){this.fetchData(),window.addEventListener("scroll",this.handleScroll)},unmounted(){window.removeEventListener("scroll",this.handleScroll)},watch:{updatedSearchText(){this.fetchData()}}};const Q=(0,b.Z)(J,[["render",L]]);var X=Q,$={name:"App",components:{PageHeader:x,PhotoCard:X}};const tt=(0,b.Z)($,[["render",r]]);var nt=tt;(0,i.ri)(nt).mount("#app")}},n={};function e(i){var o=n[i];if(void 0!==o)return o.exports;var l=n[i]={exports:{}};return t[i](l,l.exports,e),l.exports}e.m=t,function(){var t=[];e.O=function(n,i,o,l){if(!i){var a=1/0;for(h=0;h<t.length;h++){i=t[h][0],o=t[h][1],l=t[h][2];for(var r=!0,s=0;s<i.length;s++)(!1&l||a>=l)&&Object.keys(e.O).every((function(t){return e.O[t](i[s])}))?i.splice(s--,1):(r=!1,l<a&&(a=l));if(r){t.splice(h--,1);var c=o();void 0!==c&&(n=c)}}return n}l=l||0;for(var h=t.length;h>0&&t[h-1][2]>l;h--)t[h]=t[h-1];t[h]=[i,o,l]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={143:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var o,l,a=i[0],r=i[1],s=i[2],c=0;if(a.some((function(n){return 0!==t[n]}))){for(o in r)e.o(r,o)&&(e.m[o]=r[o]);if(s)var h=s(e)}for(n&&n(i);c<a.length;c++)l=a[c],e.o(t,l)&&t[l]&&t[l][0](),t[a[c]]=0;return e.O(h)},i=self["webpackChunkdiga_frontend_audition"]=self["webpackChunkdiga_frontend_audition"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(2123)}));i=e.O(i)})();
//# sourceMappingURL=app.2f8ae2c4.js.map